{"ast":null,"code":"var _jsxFileName = \"/home/lutfia/Private_projects/vteam07/customer-side/src/pages/AddBalance.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport auth from \"../modules/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddBalance = () => {\n  _s();\n  const [amount, setAmount] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    const userId = sessionStorage.getItem(\"userId\");\n    if (!userId) {\n      setError(\"Kunde inte hitta anv채ndar-ID.\");\n      return;\n    }\n    const numAmount = parseFloat(amount);\n    if (isNaN(numAmount) || numAmount <= 0) {\n      setError(\"Ange ett giltigt belopp.\");\n      return;\n    }\n    try {\n      const response = await fetch(\"http://localhost:5000/v1/user/update/balance\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${auth.token}`\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          amount: numAmount\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Kunde inte uppdatera saldo.\");\n      }\n      setSuccess(\"Saldo har uppdaterats!\");\n      setTimeout(() => {\n        navigate(\"/Dashboard\");\n      }, 1000);\n    } catch (err) {\n      setError(\"Kunde inte uppdatera saldo.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"customer-dashboard-main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customer-dashboard-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"customer-dashboard-title\",\n        children: \"Fyll p\\xE5 saldo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: handleSubmit,\n        style: {\n          marginTop: \"1.1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"amount\",\n            className: \"form-label\",\n            children: \"Belopp (SEK)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            id: \"amount\",\n            name: \"amount\",\n            min: \"1\",\n            value: amount,\n            onChange: e => setAmount(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Bekr\\xE4fta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-danger\",\n        style: {\n          marginTop: \"0.7rem\",\n          textAlign: \"center\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#389660\",\n          marginTop: \"0.7rem\",\n          textAlign: \"center\"\n        },\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(AddBalance, \"y7eDVMXRdyT3M8CBTHhKsfNXi7o=\", false, function () {\n  return [useNavigate];\n});\n_c = AddBalance;\nexport default AddBalance;\nvar _c;\n$RefreshReg$(_c, \"AddBalance\");","map":{"version":3,"names":["useState","useNavigate","auth","jsxDEV","_jsxDEV","AddBalance","_s","amount","setAmount","error","setError","success","setSuccess","navigate","handleSubmit","e","preventDefault","userId","sessionStorage","getItem","numAmount","parseFloat","isNaN","response","fetch","method","headers","token","body","JSON","stringify","user_id","ok","Error","setTimeout","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","marginTop","htmlFor","type","id","name","min","value","onChange","target","required","textAlign","color","_c","$RefreshReg$"],"sources":["/home/lutfia/Private_projects/vteam07/customer-side/src/pages/AddBalance.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport auth from \"../modules/auth\";\r\n\r\nconst AddBalance = () => {\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    if (!userId) {\r\n      setError(\"Kunde inte hitta anv채ndar-ID.\");\r\n      return;\r\n    }\r\n\r\n    const numAmount = parseFloat(amount);\r\n    if (isNaN(numAmount) || numAmount <= 0) {\r\n      setError(\"Ange ett giltigt belopp.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/v1/user/update/balance\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${auth.token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          user_id: userId,\r\n          amount: numAmount,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Kunde inte uppdatera saldo.\");\r\n      }\r\n      setSuccess(\"Saldo har uppdaterats!\");\r\n      setTimeout(() => {\r\n        navigate(\"/Dashboard\");\r\n      }, 1000);\r\n    } catch (err) {\r\n      setError(\"Kunde inte uppdatera saldo.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"customer-dashboard-main\">\r\n      <div className=\"customer-dashboard-card\">\r\n        <h2 className=\"customer-dashboard-title\">Fyll p책 saldo</h2>\r\n        <form className=\"login-form\" onSubmit={handleSubmit} style={{marginTop: \"1.1rem\"}}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"amount\" className=\"form-label\">\r\n              Belopp (SEK)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"amount\"\r\n              name=\"amount\"\r\n              min=\"1\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\">Bekr채fta</button>\r\n        </form>\r\n        {error && <div className=\"text-danger\" style={{marginTop: \"0.7rem\", textAlign: \"center\"}}>{error}</div>}\r\n        {success && <div style={{color: \"#389660\", marginTop: \"0.7rem\", textAlign: \"center\"}}>{success}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddBalance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}